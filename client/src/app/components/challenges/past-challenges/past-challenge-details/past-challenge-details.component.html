<div class="container">
    @if (theme) {
        <div>
            <h1 class="header-text">Week {{ theme.weekNumber }} : {{ theme.name }}</h1>
            <div class="grid-container">
            @for (photo of this.photos(); track photo.id; let i = $index) {
                <div class="grid-item"  [ngClass]="getBorderClass(photo, getTopPhotos(photos()))">
                    <img [src]="photo.url" alt="Photo" (click)="openImageModal(photo.url, photo.title, i)">
                    <div class="photo-title">
                      <h3>{{ photo.title }}</h3>
                    </div>
                    <div class="winner-info">
                        <h1>{{photo.userName}} : {{ photo.totalScore }} punten</h1>
                        <svg (click)="openVotesModal(photo.id)" fill="#37393a" height="40px" width="40px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 413.842 413.842" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M401.395,341.29l-69.568-69.568c-4.731-4.732-12.402-4.732-17.134,0l-7.343,7.343l-28.907-28.908 c20.261-26.247,32.335-59.122,32.335-94.769C310.777,69.707,241.07,0,155.389,0C69.707,0,0,69.707,0,155.388 c0,85.682,69.707,155.389,155.389,155.389c35.646,0,68.521-12.073,94.769-32.335l28.907,28.908l-7.343,7.343 c-4.731,4.731-4.731,12.402,0,17.134l69.569,69.568c16.597,16.597,43.507,16.597,60.104,0 C417.992,384.797,417.992,357.887,401.395,341.29z M155.389,79.34c-41.934,0-76.049,34.115-76.049,76.049c0,11.046-8.954,20-20,20 s-20-8.954-20-20C39.339,91.4,91.399,39.34,155.389,39.34c11.046,0,20,8.954,20,20S166.435,79.34,155.389,79.34z"></path> </g></svg>
                        <!-- <button (click)="openVotesModal(photo.id)">View Votes</button> -->
                    </div>
                  </div>
            }
            </div>
          </div>
    }
</div>

<app-image-modal [imageUrl]="selectedImageUrl()" [imageTitle]="selectedImageTitle()" [photoList]="modalPhotoList()"
        [currentIndex]="selectedPhotoIndex()" (closeModalEvent)="closeModal()">
    </app-image-modal>

<app-votes-details [votes]="votes" [isOpen]="isVotesModalOpen" (closeModal)="closeVotesModal()"></app-votes-details>